/* ==========================================================================
   OnlyUserActivity - User Dashboard Styles
   Dark theme with clean, user-friendly layout
   ========================================================================== */

/* --------------------------------------------------------------------------
   Login Page (User-specific adjustments)
   -------------------------------------------------------------------------- */
.login-page {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  background: linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #0284c7 100%);
}

.login-container {
  width: 100%;
  max-width: 380px;
  padding: var(--space-4);
}

.login-box {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-default);
  padding: var(--space-6);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
}

.login-box h1 {
  text-align: center;
  font-size: var(--text-2xl);
  color: var(--primary);
  margin-bottom: var(--space-2);
}

.login-box h2 {
  text-align: center;
  font-size: var(--text-md);
  color: var(--text-muted);
  margin-bottom: var(--space-6);
  font-weight: 400;
}

.login-footer {
  margin-top: var(--space-5);
  text-align: center;
  font-size: var(--text-sm);
  color: var(--text-muted);
}

.login-footer p {
  margin-bottom: var(--space-2);
}

.login-footer a {
  color: var(--primary);
}

.login-footer a:hover {
  color: var(--primary-hover);
}

/* --------------------------------------------------------------------------
   User Navbar
   -------------------------------------------------------------------------- */
.navbar {
  background-color: var(--bg-surface);
  border-bottom: 1px solid var(--border-default);
  padding: var(--space-3) var(--space-4);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-3);
}

.navbar-brand h1 {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--primary);
  margin: 0;
}

.navbar-user {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.navbar-user span {
  color: var(--text-secondary);
  font-size: var(--text-sm);
}

.navbar-user strong {
  color: var(--text-primary);
}

/* --------------------------------------------------------------------------
   Page Container
   -------------------------------------------------------------------------- */
.container {
  max-width: 1000px;
  margin: 0 auto;
  padding: var(--space-4);
}

/* --------------------------------------------------------------------------
   Header with Date Selector
   -------------------------------------------------------------------------- */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.header h2 {
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.date-selector {
  display: flex;
  gap: var(--space-2);
  align-items: center;
  flex-wrap: wrap;
}

.date-selector input[type="date"] {
  padding: var(--space-2) var(--space-3);
  background-color: var(--bg-input);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  color: var(--text-primary);
}

.date-selector input[type="date"]:focus {
  outline: none;
  border-color: var(--border-focus);
  box-shadow: var(--shadow-focus);
}

/* --------------------------------------------------------------------------
   Summary Cards
   -------------------------------------------------------------------------- */
.summary-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: var(--space-3);
  margin-bottom: var(--space-5);
}

.summary-cards .card {
  text-align: center;
  padding: var(--space-4);
}

.summary-cards .card h3 {
  font-size: var(--text-xs);
  color: var(--text-muted);
  margin-bottom: var(--space-2);
  text-transform: uppercase;
  font-weight: 600;
  letter-spacing: 0.05em;
}

.summary-cards .card .stat {
  font-size: var(--text-xl);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}

/* Progress Bar */
.progress-bar-container {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-top: var(--space-2);
}

.progress-bar {
  flex: 1;
  height: 8px;
  background-color: var(--bg-surface-overlay);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background-color: var(--primary);
  transition: width var(--transition-slow), background-color var(--transition-slow);
  border-radius: var(--radius-full);
}

.progress-text {
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--text-secondary);
  min-width: 36px;
  text-align: right;
}

/* --------------------------------------------------------------------------
   Shift Info Card
   -------------------------------------------------------------------------- */
.shift-info-card {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin-bottom: var(--space-5);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-3);
}

.shift-info-card h3 {
  font-size: var(--text-xs);
  color: var(--text-muted);
  margin-bottom: var(--space-1);
  text-transform: uppercase;
  font-weight: 600;
  letter-spacing: 0.05em;
}

.shift-name {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.shift-meta {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.shift-badge {
  background-color: var(--bg-surface-overlay);
  color: var(--text-secondary);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: 500;
}

/* --------------------------------------------------------------------------
   Activity Section
   -------------------------------------------------------------------------- */
.activity-section {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin-bottom: var(--space-5);
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
  flex-wrap: wrap;
  gap: var(--space-2);
}

.section-header h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

/* --------------------------------------------------------------------------
   Activity Form
   -------------------------------------------------------------------------- */
.activity-form {
  background-color: var(--bg-surface-raised);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin-bottom: var(--space-4);
}

.activity-form h4 {
  font-size: var(--text-md);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 var(--space-3);
}

.form-row {
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
  margin-bottom: var(--space-3);
}

.form-row .form-group {
  flex: 1;
  min-width: 120px;
  margin-bottom: 0;
}

.form-actions {
  display: flex;
  gap: var(--space-2);
  margin-top: var(--space-3);
}

/* --------------------------------------------------------------------------
   Activities List
   -------------------------------------------------------------------------- */
.activities-list {
  margin-top: var(--space-4);
}

.activity-item {
  background-color: var(--bg-surface-raised);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  margin-bottom: var(--space-3);
}

.activity-item:last-child {
  margin-bottom: 0;
}

.activity-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.activity-info {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.activity-time {
  font-weight: 600;
  color: var(--text-primary);
}

.activity-type {
  font-weight: 600;
}

.activity-duration,
.activity-date {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.activity-notes {
  margin-top: var(--space-2);
  padding-top: var(--space-2);
  border-top: 1px solid var(--border-subtle);
  font-size: var(--text-sm);
  color: var(--text-secondary);
  display: flex;
  align-items: flex-start;
  gap: var(--space-1);
}

.activity-actions {
  display: flex;
  gap: var(--space-2);
  flex-shrink: 0;
}

/* Badge colors per activity type */
.badge-lavoro {
  background-color: var(--primary-muted);
  color: var(--primary-hover);
}

.badge-meeting {
  background-color: var(--info-muted);
  color: #93c5fd;
}

.badge-formazione {
  background-color: var(--success-muted);
  color: #86efac;
}

.badge-supporto {
  background-color: rgba(249, 115, 22, 0.15);
  color: #fdba74;
}

.badge-ferie,
.badge-festivit√† {
  background-color: rgba(236, 72, 153, 0.15);
  color: #f9a8d4;
}

.badge-malattia {
  background-color: var(--danger-muted);
  color: #fca5a5;
}

.badge-permesso {
  background-color: rgba(168, 85, 247, 0.15);
  color: #c4b5fd;
}

.badge-riposo {
  background-color: var(--bg-surface-overlay);
  color: var(--text-secondary);
}

.badge-trasferta {
  background-color: rgba(20, 184, 166, 0.15);
  color: #5eead4;
}

.badge-pausa {
  background-color: var(--bg-surface-overlay);
  color: var(--text-muted);
}

.badge-altro {
  background-color: rgba(139, 92, 246, 0.15);
  color: #c4b5fd;
}

/* Icon inline styling */
.icon-inline {
  vertical-align: middle;
  flex-shrink: 0;
}

.icon-inline--spaced {
  margin-right: var(--space-1);
}

/* --------------------------------------------------------------------------
   Calendar Section
   -------------------------------------------------------------------------- */
.calendar-section {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin-bottom: var(--space-5);
}

.calendar-section h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.calendar-nav {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

#calendarMonthLabel {
  font-size: var(--text-md);
  font-weight: 600;
  color: var(--text-primary);
  min-width: 140px;
  text-align: center;
}

/* Calendar Legend */
.calendar-legend {
  display: flex;
  gap: var(--space-3);
  margin: var(--space-3) 0;
  flex-wrap: wrap;
  justify-content: center;
}

.legend-item {
  font-size: var(--text-xs);
  display: flex;
  align-items: center;
  gap: var(--space-1);
  color: var(--text-secondary);
}

.legend-item::before {
  content: '';
  width: 12px;
  height: 12px;
  border-radius: var(--radius-sm);
}

.legend-ok::before {
  background-color: var(--success);
}

.legend-incomplete::before {
  background-color: var(--warning);
}

.legend-missing::before {
  background-color: var(--danger);
}

.legend-off::before {
  background-color: var(--bg-surface-overlay);
  border: 1px solid var(--border-default);
}

/* Calendar Grid */
.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: var(--space-1);
  margin-bottom: var(--space-4);
}

.calendar-day {
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--bg-surface-raised);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.calendar-day:hover:not(.calendar-day-header):not(.calendar-day-empty) {
  border-color: var(--primary);
  background-color: var(--primary-muted);
}

.calendar-day-header {
  background: none;
  border: none;
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  cursor: default;
}

.calendar-day-empty {
  background: none;
  border: none;
  cursor: default;
}

/* Calendar day states */
.calendar-day.day-ok {
  background-color: var(--success-muted);
  border-color: var(--success);
  color: #86efac;
}

.calendar-day.day-incomplete {
  background-color: var(--warning-muted);
  border-color: var(--warning);
  color: #fcd34d;
}

.calendar-day.day-missing {
  background-color: var(--danger-muted);
  border-color: var(--danger);
  color: #fca5a5;
}

.calendar-day.day-off {
  background-color: var(--bg-surface-overlay);
  border-color: var(--border-subtle);
  color: var(--text-muted);
}

.calendar-day.day-future {
  opacity: 0.5;
}

.calendar-day.selected {
  box-shadow: inset 0 0 0 2px var(--primary);
}

/* Calendar Actions */
.calendar-actions {
  background-color: var(--bg-surface-raised);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin-bottom: var(--space-4);
}

.calendar-actions h4 {
  font-size: var(--text-md);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 var(--space-3);
}

.quick-actions {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.calendar-hint {
  margin-top: var(--space-3);
  font-size: var(--text-xs);
  color: var(--text-muted);
}

/* Calendar Irregularities */
.calendar-irregularities {
  background-color: var(--bg-surface-raised);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
}

.calendar-irregularities h4 {
  font-size: var(--text-md);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 var(--space-3);
}

.irregularity-shortcuts {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.irregularity-btn {
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  font-size: var(--text-xs);
  font-weight: 500;
  border: 1px solid;
}

.irregularity-btn--ok {
  background-color: var(--success-muted);
  border-color: var(--success);
  color: #86efac;
}

.irregularity-btn--incomplete {
  background-color: var(--warning-muted);
  border-color: var(--warning);
  color: #fcd34d;
}

.irregularity-btn--missing {
  background-color: var(--danger-muted);
  border-color: var(--danger);
  color: #fca5a5;
}

.irregularity-btn:hover {
  opacity: 0.8;
}

/* --------------------------------------------------------------------------
   Loading & No Data States
   -------------------------------------------------------------------------- */
.loading,
.no-data {
  text-align: center;
  padding: var(--space-6);
  color: var(--text-muted);
  font-size: var(--text-sm);
}

/* --------------------------------------------------------------------------
   Responsive
   -------------------------------------------------------------------------- */
@media (max-width: 768px) {
  .header {
    flex-direction: column;
    align-items: flex-start;
  }

  .date-selector {
    width: 100%;
  }

  .date-selector input[type="date"] {
    flex: 1;
  }

  .summary-cards {
    grid-template-columns: repeat(2, 1fr);
  }

  .shift-info-card {
    flex-direction: column;
    align-items: flex-start;
  }

  .activity-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .activity-actions {
    width: 100%;
    justify-content: flex-end;
  }

  .calendar-grid {
    gap: 2px;
  }

  .calendar-day {
    font-size: var(--text-xs);
  }

  .quick-actions {
    flex-direction: column;
  }

  .quick-actions .btn {
    width: 100%;
  }

  .navbar {
    flex-direction: column;
    gap: var(--space-3);
  }

  .navbar-user {
    width: 100%;
    justify-content: space-between;
  }

  .form-row {
    flex-direction: column;
  }

  .activity-info {
    flex-direction: column;
    align-items: flex-start;
  }
}

@media (max-width: 480px) {
  .container {
    padding: var(--space-3);
  }

  .summary-cards {
    grid-template-columns: 1fr;
  }

  .navbar {
    padding: var(--space-3);
  }

  .calendar-nav {
    justify-content: space-between;
    width: 100%;
  }
}
